<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quelle est l’empreinte carbone des Québécois ?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f9e6e4d29af3f5f6ee06eaf03ed5edd8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Quelle est l’empreinte carbone des Québécois ?</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./empreinte_carbone_habitant.html"> 
<span class="menu-text"><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.6em;">person</span> Empreinte par personne</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./empreinte_carbone_menage.html"> 
<span class="menu-text"><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.6em;">house</span> Empreinte des ménages</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./nous.html"> 
<span class="menu-text"><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.6em;">info</span> Méthodologie</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Quelle est l’empreinte carbone des Québécois ?</h1>
<p class="subtitle lead">Explorez les émissions liées à nos modes de consommation</p>
</div>



<div class="quarto-title-meta column-page">

    
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="./figures/empreinte_carbone.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:30.0%"></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ce site interactif permet d’explorer l’empreinte carbone des Québécois :
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>par personne<br>
</li>
<li>par ménage<br>
</li>
<li>par région<br>
</li>
<li>par tranche d’âge</li>
</ul>
<p><strong>Découvrez comment nos choix de consommation influencent les émissions de gaz à effet de serre.</strong></p>
</div>
</div>
<section id="pourquoi-mesurer-lempreinte-carbone" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="pourquoi-mesurer-lempreinte-carbone">Pourquoi mesurer l’empreinte carbone ?</h2>
<p>Les changements climatiques sont causés par l’accumulation de gaz à effet de serre (GES) dans l’atmosphère, notamment le dioxyde de carbone (CO<sub>2</sub>), le méthane (CH<sub>4</sub>) et le protoxyde d’azote (N<sub>2</sub>O). Ces gaz, émis principalement par les activités humaines - transport, production d’énergie, agriculture, industrie, construction - retiennent la chaleur dans l’atmosphère et modifient l’équilibre climatique de la planète.</p>
<p>Les conséquences sont déjà visibles : augmentation des températures moyennes, événements météorologiques extrêmes plus fréquents, feux de forêt, inondations et perturbations des écosystèmes.</p>
<p>Pour agir efficacement, il est essentiel de comprendre <strong>d’où proviennent les émissions</strong> et <strong>comment nos modes de vie y contribuent</strong>.</p>
</section>
<section id="une-approche-basée-sur-la-consommation" class="level2">
<h2 class="anchored" data-anchor-id="une-approche-basée-sur-la-consommation">Une approche basée sur la consommation</h2>
<p><strong>Ce site présente l’empreinte carbone associée à la consommation des résidents et des ménages du Québec.</strong></p>
<p>Contrairement à une approche dite <em>territoriale</em>, qui comptabilise uniquement les émissions produites sur le territoire québécois, <strong>l’approche basée sur la consommation</strong> tient compte de toutes les émissions générées pour produire les biens et services que nous utilisons, qu’elles aient lieu au Québec, ailleurs au Canada ou à l’international <span class="citation" data-cites="patouillard2026">(<a href="#ref-patouillard2026" role="doc-biblioref">Patouillard et al. 2026</a>)</span>.</p>
<p>Cette perspective permet de rendre visibles des émissions souvent peu perceptibles, par exemple :</p>
<ul>
<li>celles liées à la fabrication d’un véhicule importé ;</li>
<li>celles associées à la production d’aliments consommés au Québec ;</li>
<li>celles nécessaires à la construction d’infrastructures ou à la prestation de services publics ;</li>
<li>celles générées dans les chaînes d’approvisionnement internationales.</li>
</ul>
<p>En d’autres termes, cette approche relie les émissions aux <strong>choix de consommation</strong>, plutôt qu’au seul lieu de production.</p>
<p>Les résultats reposent sur un modèle économique détaillé reliant les dépenses de consommation aux émissions générées tout au long des chaînes de production. <strong>Pour en savoir plus</strong> sur les données utilisées et la méthodologie, consultez la section <a href="./nous.html">Méthodologie</a>.</p>
</section>
<section id="quelles-catégories-de-consommation-sont-incluses" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quelles-catégories-de-consommation-sont-incluses">Quelles catégories de consommation sont incluses ?</h2>
<p>L’empreinte carbone présentée sur ce site couvre l’ensemble des émissions associées aux biens et services consommés au Québec.</p>
<p>Deux grandes catégories sont prises en compte <span class="citation" data-cites="agez2024 patouillard2026">(<a href="#ref-agez2024" role="doc-biblioref">Agez 2024</a>; <a href="#ref-patouillard2026" role="doc-biblioref">Patouillard et al. 2026</a>)</span> :</p>
<section id="la-consommation-individuelle-des-ménages" class="level3">
<h3 class="anchored" data-anchor-id="la-consommation-individuelle-des-ménages">La consommation individuelle des ménages</h3>
<p>Il s’agit des dépenses effectuées directement par les ménages pour répondre à leurs besoins quotidiens. Cela inclut notamment :</p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">directions_railway</span> <strong>Transport</strong> (véhicules, carburant, transport collectif, voyages)</p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">night_shelter</span> <strong>Logement</strong> (chauffage, électricité, entretien, construction)</p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">dinner_dining</span> <strong>Nourriture</strong> (production agricole, transformation, transport des aliments)</p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">toys_and_games</span> <strong>Loisirs et culture</strong> (activités culturelles, équipements, divertissement)</p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">apparel</span> <strong>Vêtements et effets personnels</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">home_health</span> <strong>Santé et soins personnels</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">school</span> <strong>Éducation et services sociaux</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">heart_check</span> <strong>Services financiers et assurances</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">markunread_mailbox</span> <strong>Communications</strong></p>
</section>
<section id="les-services-gouvernementaux-services-sans-but-lucratif-et-variations-dinventaires" class="level3">
<h3 class="anchored" data-anchor-id="les-services-gouvernementaux-services-sans-but-lucratif-et-variations-dinventaires">Les services gouvernementaux, services sans but lucratif et variations d’inventaires</h3>
<p>Cette catégorie regroupe les émissions associées aux services fournis collectivement, notamment :</p>
<ul>
<li>les infrastructures publiques (routes, écoles, hôpitaux) ;</li>
<li>les services administratifs et institutionnels ;</li>
<li>les investissements publics (capital) ;</li>
<li>les dépenses des organismes sans but lucratif ;</li>
<li>les variations d’inventaires.</li>
</ul>
<p>Dans l’approche utilisée ici (principe de résidence), les émissions liées aux services gouvernementaux et aux organismes sans but lucratif sont réparties entre les résidents du Québec. Elles font donc partie intégrante de l’empreinte carbone des Québécois. Ces émissions reflètent les services collectifs qui soutiennent notre mode de vie, au-delà des seules dépenses individuelles des ménages.</p>
</section>
</section>
<section id="comment-naviguer-dans-cet-outil" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="comment-naviguer-dans-cet-outil">Comment naviguer dans cet outil ?</h2>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Les pages suivantes présentent des graphiques interactifs et des cartes.
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">mouse</span> <strong><strong>Survolez les figures</strong> pour afficher les valeurs détaillées.</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">mouse</span> <strong><strong>Cliquez sur les légendes</strong> pour afficher ou masquer certaines catégories.</strong></p>
<p><span class="material-symbols-outlined" style="vertical-align: middle; font-size: 1.5em;">mouse</span> <strong><strong>Utilisez les boutons interactifs</strong> lorsque disponibles pour explorer les résultats.</strong></p>
<p>L’objectif est de vous permettre d’explorer les résultats selon votre profil, votre région ou votre tranche d’âge.</p>
</div>
</div>
<div style="text-align:center; margin-top:20px;">
<p><a href="empreinte_carbone_habitant.html" style="
  background-color:#00a1c0;
  color:white;
  padding:10px 20px;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;"> Explorer les résultats </a></p>
</div>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Les références</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-agez2024" class="csl-entry" role="listitem">
Agez, Maxime. 2024. <em>OpenIO-Canada v2.9</em>. <a href="https://github.com/CIRAIG/OpenIO-Canada">https://github.com/CIRAIG/OpenIO-Canada</a>.
</div>
<div id="ref-patouillard2026" class="csl-entry" role="listitem">
Patouillard, Laure, Maxime Agez, Anne de Bortoli, et Cécile Bulle. 2026. <span>«&nbsp;Consumption-based carbon footprint of Canadians: exploring provinces<span>’</span> variability based on OpenIO-Canada, a regionalized input-output table with capital endogenization&nbsp;»</span>. <em>Manuscript in preparation</em>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copié");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copié");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© CIRAIG 2026 – 3333 ch.&nbsp;Queen Mary, Montreal, QC</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>